{% extends 'base.html' %}

{% block header %}
<!--<link rel="stylesheet" href="https://cdn.datatables.net/1.10.11/css/dataTables.bootstrap.min.css">
  <script src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.11/js/dataTables.bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.1.2/css/buttons.dataTables.min.css">
  <script src="https://cdn.datatables.net/buttons/1.1.2/js/dataTables.buttons.min.js"></script>
-->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/t/bs/jszip-2.5.0,pdfmake-0.1.18,dt-1.10.11,b-1.1.2,b-flash-1.1.2,b-html5-1.1.2,b-print-1.1.2/datatables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/t/bs/jszip-2.5.0,pdfmake-0.1.18,dt-1.10.11,b-1.1.2,b-flash-1.1.2,b-html5-1.1.2,b-print-1.1.2/datatables.min.js"></script>

{% endblock header %}


{% block content %}
<div id="content-main">
<form action="" method="get" id="search_form">
      {{ filter.form.as_p }}
      <input type="submit" />
  </form>
  <hr/>



  <div class="results">
    <table id="results_list" class="table table-striped table-bordered" cellspacing="0" width="100%">
      <thead>
        <tr><td>Parcel</td><td>Street Address</td></tr>
      </thead>
      <tbody>
  {% for obj in filter %}
      <tr><td><a target="_blank" href="{% url 'admin:inventory_tracker_property_change' obj.id %}">{{obj.parcel}}</a></td><td>{{obj.street_address}}</td></tr>
  {% endfor %}
</tbody>
  </div>
</div>
<script>
$(document).ready(function() {
    $('#results_list').DataTable({
      dom: 'Bfrtip',
      buttons: [
             'copy', 'excel', 'pdf'
         ]

    });
} );

var myForm = document.getElementById('search_form');
myForm.onsubmit = function() {
    var allInputs = myForm.getElementsByTagName('input');
    var input, i;

    for(i = 0; input = allInputs[i]; i++) {
        if(input.getAttribute('name') && !input.value) {
            input.setAttribute('name', '');
        }
    }
};
</script>
{% endblock content %}
